{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/Users/olakunleyusuf/Desktop/Kunle Kodes/Node Server/Advanced-React/finalfit/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/olakunleyusuf/Desktop/Kunle Kodes/Node Server/Advanced-React/finalfit/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/olakunleyusuf/Desktop/Kunle Kodes/Node Server/Advanced-React/finalfit/components/DeleteItem.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    mutation DELETE_ITEM_MUTATION($id: ID!) {\\n        deleteItem(id: $id) {\\n            id\\n            title\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { gql, useMutation } from '@apollo/client';\nvar DELETE_ITEM_MUTATION = gql(_templateObject());\n\nvar DeleteItem = function DeleteItem(props) {\n  _s();\n\n  var _useMutation = useMutation(DELETE_ITEM_MUTATION, {\n    update: function update(cache, _ref) {\n      var deleteItem = _ref.data.deleteItem;\n      cache.evict(cache.identify(deleteItem));\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      deleteItem = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error;\n\n  var handleDelete = function handleDelete() {\n    if (confirm('Are you sure you want to delete this item?')) {\n      deleteItem({\n        variables: {\n          id: props.id\n        }\n      })[\"catch\"](function (err) {\n        return alert(err.message);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    disabled: loading,\n    onClick: handleDelete,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(DeleteItem, \"SexusqDlK+e3aqXOanI1au0RmW8=\", false, function () {\n  return [useMutation];\n});\n\n_c = DeleteItem;\nexport default DeleteItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteItem\");","map":{"version":3,"sources":["/Users/olakunleyusuf/Desktop/Kunle Kodes/Node Server/Advanced-React/finalfit/components/DeleteItem.js"],"names":["gql","useMutation","DELETE_ITEM_MUTATION","DeleteItem","props","update","cache","deleteItem","data","evict","identify","loading","error","handleDelete","confirm","variables","id","err","alert","message","children"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,SAASA,GAAT,EAAcC,WAAd,QAAiC,gBAAjC;AAEA,IAAMC,oBAAoB,GAAGF,GAAH,mBAA1B;;AASA,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAAAC,KAAK,EAAI;AAAA;;AAAA,qBAEmBH,WAAW,CAACC,oBAAD,EAAuB;AACzEG,IAAAA,MADyE,kBAClEC,KADkE,QAClC;AAAA,UAAfC,UAAe,QAAvBC,IAAuB,CAAfD,UAAe;AACnCD,MAAAA,KAAK,CAACG,KAAN,CAAYH,KAAK,CAACI,QAAN,CAAeH,UAAf,CAAZ;AACH;AAHwE,GAAvB,CAF9B;AAAA;AAAA,MAEhBA,UAFgB;AAAA;AAAA,MAEFI,OAFE,kBAEFA,OAFE;AAAA,MAEOC,KAFP,kBAEOA,KAFP;;AAQxB,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvB,QAAGC,OAAO,CAAC,4CAAD,CAAV,EAA0D;AACtDP,MAAAA,UAAU,CAAC;AAAEQ,QAAAA,SAAS,EAAE;AAAEC,UAAAA,EAAE,EAAEZ,KAAK,CAACY;AAAZ;AAAb,OAAD,CAAV,UACO,UAAAC,GAAG;AAAA,eAAIC,KAAK,CAACD,GAAG,CAACE,OAAL,CAAT;AAAA,OADV;AAEH;AACJ,GALD;;AAOA,sBACI;AAAQ,IAAA,QAAQ,EAAER,OAAlB;AAA2B,IAAA,OAAO,EAAGE,YAArC;AAAA,cAAqDT,KAAK,CAACgB;AAA3D;AAAA;AAAA;AAAA;AAAA,WADJ;AAGH,CAlBD;;GAAMjB,U;UAEyCF,W;;;KAFzCE,U;AAoBN,eAAeA,UAAf","sourcesContent":["import { gql, useMutation } from '@apollo/client';\n\nconst DELETE_ITEM_MUTATION = gql`\n    mutation DELETE_ITEM_MUTATION($id: ID!) {\n        deleteItem(id: $id) {\n            id\n            title\n        }\n    }\n`;\n\nconst DeleteItem = props => {\n    \n    const [ deleteItem, { loading, error } ] = useMutation(DELETE_ITEM_MUTATION, {\n        update(cache, { data: { deleteItem }}) {\n            cache.evict(cache.identify(deleteItem));\n        }\n    })\n\n    const handleDelete = () => {\n        if(confirm('Are you sure you want to delete this item?')) {\n            deleteItem({ variables: { id: props.id } })\n            .catch(err => alert(err.message));\n        }\n    }\n\n    return (\n        <button disabled={loading} onClick={ handleDelete }>{props.children}</button>\n    )\n}\n\nexport default DeleteItem;"]},"metadata":{},"sourceType":"module"}